[global_tags]
  project = "smartgrow"

[agent]
  interval = "10s"
  round_interval = true
  metric_batch_size = 1000
  metric_buffer_limit = 10000
  collection_jitter = "0s"
  flush_interval = "10s"
  flush_jitter = "0s"
  precision = "0s"
  hostname = "telegrafinput"
  omit_hostname = false

[[inputs.tail]]
  files = ["/tmp/chamber/ouput_sensor.json"]
  data_format = "json"

  tag_keys = [
    "device_id",
    "client_id"
  ]

  json_name_key = "sensor_type"
  json_time_key = "timestamp"
  json_time_format = "unix"


[[outputs.mqtt]]
  servers = ["200.122.207.134:8181"]
  username="admin"
  password="abcd1234"
  qos = 2
  topic_prefix = "telegraf"
  data_format = "json"
  retain = true
